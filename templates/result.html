{% extends 'base.html' %} {% block body %}
<div class="result-container">
    <h2>Your Personality Test Result</h2>
    <h3 id="personality-type">Your type is:</h3>
    <p id="personality-description"> Personality description: </p>
    <p id="percentages-list"> Percentage list: <br></p>
    <a href="/chat" class="btn btn-primary">Chat</a>
</div>

def function(name, age){
    print(name)
}

function(seo, 21)

<script>
    var travel_type = JSON.parse('{{ travel_type | tojson | safe}}');
    var percentage = JSON.parse('{{ percentage | tojson | safe}}');
    console.log(travel_type);
    console.log(percentage);

    // 1. TODO: load the result.json file so that we can show name, descrption, and recommended destinations
            // find online how to load json to javascript, or refer to the code in type_test.html where questions.json is loaded
    // 2. TODO: Show the name of the type and remove the letters
    document.getElementById("personality-type").innerText = `Your type is: ${travel_type}`;

    const typeNameMapping = {
        energetic: "Energetic",
        relaxed: "Relaxed",
        planned: "Planned",
        spontaneous: "Spontaneous",
        urbanite: "Urbanite",
        naturalist: "Naturalist",
        saver: "Saver",
        spender: "Spender"
    };

    const percentagesList = document.getElementById("percentages-list");
    let percentagesHTML = '';
    for (let i = 0; i < percentage.length; i+=2) {
        const type1 = percentage[i][0];
        const percent1 = percentage[i][1];
        const type2 = percentage[i + 1][0];
        const percent2 = percentage[i + 1][1];

        percentagesHTML += `<li>${typeNameMapping[type1]}: ${percent1}%, ${typeNameMapping[type2]}: ${percent2}%</li>`;
    }
    percentagesList.innerHTML += `<ul>${percentagesHTML}</ul>`;

    // 3. TODO: Show decription of corresponding type
    // 4. TODO: Send the name of the type and description to the chatbot
    </script>
</body>

{% endblock %}
